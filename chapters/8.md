# Capítulo 8

# Guia da carteira e dicas para resolução de problemas

## Instruções específicas para a Monero GUI oficial

As instruções a seguir mostram como desempenhar as tarefas descritas acima utilizando a carteira Monero com interface gráfica do usuário (GUI). Caso esteja utilizando uma carteira diferente, fique a vontade para pular essa seção.

### 1. Escolha o idioma

A Monero GUI oficial pode ser baixada em [https://getmonero.org/downloads](https://web.getmonero.org/pt-br/downloads/#gui). Uma vez que tenha extraído e aberto o programa, você será apresentado com uma tela para seleção do idioma:

![Idiomas](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/languages_gui.png)

Se seu idioma não estiver listado acima, fique a vontade para [enviar uma tradução para ajudar aos demais usuários](https://github.com/monero-project/monero-gui/tree/master/translations)! Após selecionar o idioma, a carteira irá perguntar se você deseja gerar uma nova semente ou restaurar uma carteira já existente.

### 2. Especificar uma opção

A Monero GUI oferece três opções para o tipo da carteira: Mainnet, Testnet e Stagenet.

Escolha Mainnet (opção padrão) para acessar a blockchain normal com Monero de verdade. A Testnet e a Stagenet são duas blockchains separadas usadas por desenvolvedores para desenvolver e testar novos códigos. Tanto as moedas Testnet quanto as Stagenet não possuem valor monetário real e não podem ser transferidas para a Mainnet (rede principal).

Se essa for sua primeira carteira Monero, pressione "criar nova carteira". O software do Monero irá gerar uma nova semente para você e lhe mostrar a semente mnemônica de 25 palavras.

![Nova ou Restaurar](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/new_or_restore_gui.png)

### 3. Anote sua semente

Lembre-se, a semente não é como uma senha! A rede não será capaz de restaurar o acesso aos seus fundos se você perder sua semente.

Certifique-se de anotá-la e armazená-la em um local seguro onde ninguém poderá encontrar!

### 4. Insira uma senha

Você pode criar uma senha para a carteira para manter seus fundos seguros caso alguém tenha acesso ao seu computador. A senha da carteira é uma medida de segurança apenas local, igual ao PIN para desbloquear um celular. Ela não impacta a criptografia ou como seus moneroj são armazenados na blockchain, então restaurar sua carteira a partir da semente irá contornar a senha configurada localmente.

### 5. Baixe a blockchain do Monero

Na sequência, você terá a opção de executar seu próprio nó ou conectar-se a um nó remoto.

Executar seu próprio nó requer ao menos 60 GB de espaço em disco para armazenar a blockchain. Se seus dispositivos tiverem recursos limitados, você poderá selecionar a opção "conectar-se a um nó remoto" para configurar uma carteira leve que acessa dados armazenados em outro local. Para aprender mais sobre os prós e contras de utilizar um nó remoto, acesse a seção 4.2.3 "Nós locais" versus "nós remotos".

## E então... Bem-vindo à Monero GUI!

### 8.1.2 Recebendo Monero com a carteira GUI

A aba "Receber" da carteira Monero GUI contém seu endereço de recebimento nas formas de texto e código QR. O botão "Criar novo endereço" gera mais "subendereços" que irão diretamente para essa mesma carteira (semente). Se estiver realizando uma cobrança de determinado valor, você pode inserir a "Quantidade" e ela será codificada no código QR.

![Receber Monero](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/receive_monero_gui.png)

### 8.1.3 Enviando Monero com a carteira GUI

Para enviar Monero, basta especificar a quantidade que deseja enviar e o endereço do destinatário. O campo ID do pagamento pode ser deixado em branco, a não ser que o destinatário tenha especificado uma ID do pagamento com antecedência. O campo Descrição é armazenado localmente, então você poderá usá-lo para deixar uma nota para si mesmo. As descrições não serão recuperadas caso você restaure sua carteira a partir da semente.

![Enviar Monero](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/send_gui.png)

### Histórico de transações

![Histórico de transações](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/transaction_history_gui.png)

### 8.1.4 Prova de pagamento com a carteira GUI

A verificação da prova de pagamento está disponível na GUI através da opção "Provar/Verificar". A captura de tela abaixo mostra a ID da transação, o endereço e a chave da transação do exemplo com Maria e Khan do Capítulo 2.

![Prova de Pagamento](https://raw.githubusercontent.com/monerobook/monerobook/master/resources/img/checking_gui.png)

## 8.2 Instruções específicas para a carteira Monero CLI

As instruções a seguir mostram como desempenhar as tarefas descritas acima através da interface de linha de comando (CLI) do Monero. Caso esteja utilizando uma carteira diferente, fique a vontade para pular essa seção.

### 8.2.1 Configurando uma carteira com a CLI

A carteira oficial Monero CLI pode ser baixada em [https://getmonero.org/downloads](https://web.getmonero.org/pt-br/downloads/#cli). O comando para executar a CLI varia dependendo do seu sistema operacional. No Linux, basta executar `./monero-wallet-cli` dentro da pasta do programa. Você pode adicionar _flags_ extras (documentadas neste capítulo) se deseja conectar-se a um nó remoto, associar seu endereço IP ou usar outras opções avançadas.

    $ wget https://downloads.getmonero.org/cli/linux64

    2014-08-12 (490 MB/s) - 'linux64' saved [45719102/45719102]

    $ tar jxvf linux64

    ./monero/
    ./monero/monero-wallet-rpc
    ./monero/monero-blockchain-import
    ./monero/monero-blockchain-ancestry
    ./monero/monero-blockchain-usage
    ./monero/monero-wallet-cli
    ./monero/monero-blockchain-depth
    ./monero/monero-gen-trusted-multisig
    ./monero/monerod
    ./monero/monero-blockchain-export
    ./monero/monero-blockchain-blackball

    $ cd monero && ./monero-wallet-cli

    2018-10-24 18:58:11,024 INFO  [default] Page size: 4096
    This is the command line monero wallet. It needs to connect to a monero daemon to work correctly.

    WARNING: Do not reuse your Monero keys on another fork, UNLESS this fork has key reuse mitigations built in. Doing so will harm your privacy.

    Monero CODENAME (vX.X.X-release)

    Specify wallet file name (e.g., MyWallet). If the wallet doesn't exist, it will be created.
    Wallet file name (or Ctrl-C to quit): (enter the name of your wallet you want to create) testwallet
    No wallet found with that name. Confirm creation of new wallet named: testwallet
    (Y/Yes/N/No): Yes
    Generating new wallet...
    Enter a new password for the wallet: (enter your secret password)
    Confirm password: (confirm your password)
    List of available languages for your wallet's seed:
    0 : Deutsch
    1 : English
    2 : Español
    3 : Français
    4 : Italiano
    5 : Nederlands
    6 : Português
    7 : русский язык
    8 : Japanese
    9 : Chinese
    10 : Esperanto
    11 : Lojban
    Enter the number corresponding to the language of your choice: (from 1 to 10)

    Generated new wallet: 4BKjy1uVRTPiz4pHyaXXawb82XpzLiowSDd8rEQJGqvN6AD6kWosLQ6VJXW9sghopxXgQSh1RTd54JdvvCRsXiF41xvfeW5

    View key: 9227a05c665f684f5b8fef815cedd8a911b426c9fa07554c70daacf87757b302
    **************************************************************
    Your wallet has been generated!
    To start synchronizing with the daemon, use the "refresh" command.
    Use the "help" command to see the list of available commands.
    [...]

    lamb hexagon aces acquire twang bluntly argue when unafraid awning academy nail threaten sailor palace selfish cadets click sickness juggled border thumbs remedy ridges border
    **************************************************************
    Starting refresh...
    Background refresh thread started
    [wallet 433bhJ]:

### 8.2.2 Recebendo Monero

Você poder consultar seu endereço digitando `address`. Se deseja combinar o endereço com uma ID do pagamento, você pode digitar `integrated_address` para gerar uma ID do pagamento aleatória ou então especificar uma ID do pagamento como entrada, por exemplo:

    [wallet 433bhJ]: integrated_address 12346780abcdef00

### 8.2.3 Enviando Monero

Utilize o comando `transfer` para enviar Monero. Para enviar moneroj a um único endereço, você não precisa especificar o número de misturas (durante Outubro de 2018, uma atualização da rede passou a requerer o número fixo de 11 misturas); você precisa inserir o endereço de destino e a quantidade a se enviar. Para usar a CLI para enviar a transação de 0,06 XMR descrita acima, o comando seria:

    [wallet 433bhJ]:  transfer 4758W1dAkifB2G1wQKmPWRvPs9zdsb5ctRFW2ttQbkQxYHRuPRdHZ9ijqJ7oxcns9SvtpiH8ti8BRjL3LUHaBURpiz4KF​ 0.06

### 8.2.4 Prova de pagamento

Por padrão, as chaves da transação não são armazenadas pela CLI, porém você pode habilitar essa funcionalidade usando: `set store-tx-info 1`. É possível localizar uma chave da transação especificando a ID da transação como o primeiro argumento de `get_tx_key`, por exemplo:

    [wallet 433bhJ]: get_tx_key 4b540773ddf9e819f0df47708f3d3c9f7f62933150b90edc8910 3d36d42ca4b7

Para verificar uma chave da transação, a sintaxe é: `check_tx_key IDDATRANSAÇÃO CHAVEDATRANSAÇÃO ENDEREÇO`, assim o comando para verificar a chave da transação de Maria (feita no Capítulo 2) seria:

    [wallet 433bhJ]: check_tx_key 4b540773ddf9e819f0df47708f3d3c9f7f62933150b90edc891 03d36d42ca4b7

Se você estiver procurando por um pagamento que tenha uma ID do pagamento conhecida, basta especificá-la no comando `payments`, por exemplo:

     [wallet 433bhJ]: payments 12346780abcdef00 OutProofV1To53Qu2gegZbUevosKCTwrEdqiECgFyUygutXMEdh

## 8.3 Resolução de problemas comuns

### 8.3.1 Problema: Transferi moneroj para minha carteira mas meu saldo ainda está em 0 XMR.

Soluções disponíveis:

1) [Sempre] verifique se você copiou o endereço Monero correto (às vezes alguns vírus podem tentar editar o endereço Monero copiado);

2) Verifique se a transação realmente chegou na sua carteira / endereço usando esses passos:

A. Navegue até a página "Configurações" na GUI e pressione "Mostrar semente e chaves". Em seguida, copie a chave privada de visualização.

B. Acesse um explorador de blockchain (_blockchain explorer_, em inglês), como o [xmrchain.net](https://xmrchain.net/).

C. Insira a ID ou Hash da transação.

D. Insira sua chave privada de visualização e endereço no campo "Decode outputs".

E. Clique em "decode outputs".

F. Se o resultado apresentar "output true", isso prova que a transação foi enviada e armazenada na blockchain.

3) Se o passo 2 acima confirmou que a transação ocorreu, seus moneroj estão no local correto mas sua carteira ainda não encontrou tais saídas. A Monero GUI utiliza um cache local que leva alguns segundos para atualizar, especialmente no Windows. Se o problema persistir, tente pressionar "Reescanear saldo da carteira" nas configurações da Monero GUI ou entre em contato para perdir ajuda através dos canais da comunidade (veja o Capítulo 6).

### 8.3.2 Problema: Minha carteira GUI parece lenta ou trava toda hora

Antes de mais nada, é importante certificar-se que está executando a última versão. Você pode verificar o número da sua versão na página Configurações (na aba Info). Se você não estiver executando a última versão, por favor, atualize antes.

É normal que a GUI não responda um pouco durante o processo de sincronização inicial, momento em que o daemon monerod precisa de bastante recursos da CPU para verificar blocos e transações.

Você pode limitar a utilização da CPU pelo daemon desta forma:

1. Navegue até a página Configurações da GUI.
2. Adicione `--max-concurrency 1` no campo "Flags de inicialização do daemon".
3. Pare o daemon e feche a GUI.
4. Reinicie a GUI e o daemon.

A reinicialização é necessária para iniciar o daemon com a nova _flag_ `--max-concurrency`, que faz com que ele utilize somente um núcleo da CPU.

## 8.4 Como adicionar uma carteira somente leitura

Conforme explicado no item 5.3.2.2, uma carteira somente leitura é um tipo especial de carteira que contém a chave privada de visualização para poder ver a soma das transações recebidas e enviadas. Ela pode ser útil para pessoas que queiram oferecer transparência, permitindo que outras pessoas vejam parcialmente suas transações.

Esse tutorial assume que você já configurou uma carteira fria em papel e que agora está pronto para criar uma carteira "somente leitura" usando a GUI.

1. Abra o programa Monero GUI.
2. Na tela de início, selecione "Restaurar carteira das chaves ou semente mnemônica".
3. Edite os campos "Nome da carteira" e "Diretório da carteira" conforme sua preferência.
4. Marque a opção "Restaurar das chaves".
5. Insira o endereço público da carteira em papel que você criou.
6. Insira a chave privada de visualização da carteira em papel que você criou.
7. Deixe o campo da chave privada de gasto em branco!
8. Insira a altura de restauração ou de criação e clique no botão "Próximo".
9. Na pŕoxima tela, insira uma senha forte e clique no botão "Próximo".
10. Na tela seguinte, selecione se deseja conectar-se a um nó local (recomendado) ou um nó remoto. Se optar pelo nó local, selecione a pasta que contém sua cópia da blockchain.
11. Na última tela, confirme se os detalhes da carteira estão corretos e abra a carteira somente leitura!

Agora você poderá ver e confirmar transações que você enviou para sua carteira fria em papel! Se você deseja testar o processo que acabou de aprender para se familiarizar, siga os passos acima utizando as informações da carteira do Fundo Geral de Doações do Monero:

Endereço Público da Carteira:

    44AFFq5kSiGBoZ4NMDwYtN18obc8AemS33DBLWs3H7otXft3XjrpDtQGv7SqSsaBYBb98uNbr2VBBEt7f2wfn3RVGQBEP3A

Chave Privada de Visualização:

    f359631075708155cc3d92a32b75a7d02a5dcf27756707b47a2b31b21c389501
